<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Keep it Simple</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="A little, yet simple, tool to handle every days tasks ...">
		<meta name="author" content="Gabriel DROMARD">
		
		<!-- Le styles -->
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
		<link href="css/jqboot-alert.css" rel="stylesheet">
		<style>
			body {
				font: 10pt/1.25 'Helvetica Neue', Arial, 'Liberation Sans', FreeSans, sans-serif;
			}
			.tasks {
			    margin: 20px 0 35px 0;
			}
			.footer {
			    border-top: 1px solid #E5E5E5;
			    margin-top: 20px;
			    padding: 10px 0 10px;
			}
			.bold { font-weight: bold; } 
			.modal.modal-wide .modal-dialog { width: 95%; }
			.modal.modal-wide .modal-body pre { overflow: auto; max-height: calc(100vh - 250px); }
			.modal.modal-wide .modal-body textarea { overflow: auto; width: 100%; height: 100%; min-height: 300px; max-height: calc(100vh - 250px); font: 10pt/1.25 'Helvetica Neue', Arial, 'Liberation Sans', FreeSans, sans-serif; }
			
			.green { color: green; }
			.red { color: red; }
			
			.tab-content { border: 1px solid #ccc; border-radius: 4px; box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset; min-height: 80px; }
			.nav-tabs { border: 0px; }
			#viewInfo { margin: 5px; }
			.tab-content textarea { border: 0px; }
			
			/* BRANDING: *
			body { background-image: url('http://intranet.latecoere.gl.local/images_latecoere/background.png'); background-repeat: repeat;}
			div.header-brand { background-color: #003366; }
			div.header-brand div.header-line { width: 100%; height: 35px; position: absolute; right: 0; top: 0; width: 70%; background: transparent url('http://intranet.latecoere.gl.local/images_latecoere/framht3.gif') no-repeat scroll right 0; }		
			div.header-brand a.header-link { width: 30%; height: 35px; display: block; background: transparent url('http://intranet.latecoere.gl.local/images_latecoere/framht1.gif') no-repeat scroll left 0;  }		
			*/
			
			#tasklist div span { cursor: pointer; }
			#tasklist div span.status, #tasklist div label.description { font-size: 150%; }
			#tasklist div label.record { margin-right: 5px; }
			#tasklist div label.description { cursor: text; }
			
			#addtask-btn { color: gray; font-size: 22pt; font-weight: normal; margin-left: 14px; }
		</style>
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
		<!-- Le fav and touch icons -->
		<link rel="shortcut icon" href="ico/favicon.ico">
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
		<link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
	</head>
	
	<body>
		<div class='header-brand'>
			<a class='header-link' href='#'></a>
			<div class='header-line'></div>
		</div>
		<div class='navbar navbar-default' role='navigation'>
			<div class='container-fluid'>
				<div class='navbar-header'>
					<button type='button' class='navbar-toggle' data-toggle='collapse' data-target='.navbar-collapse'>
						<span class='sr-only'>Toggle navigation</span>
						<span class='icon-bar'></span>
						<span class='icon-bar'></span>
						<span class='icon-bar'></span>
	  				</button>
					<a class="navbar-brand brand" href="#"><img alt="Keep it Simple" src="ico/favicon.ico"></a>
				</div>
				<div class='collapse navbar-collapse'>
					<!--
					<ul class='nav navbar-nav'>
						<li class="dropdown"><a href='#'></a></li>
					</ul>
					-->

					<form class="navbar-form navbar-nav" role="search" onsubmit="return false">
				        <div class="input-group">
				            <input type="text" class="form-control" placeholder="Rechercher" name="search-form-field" id="search-form-field">
				            <div class="input-group-btn">
				                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
				            </div>
				        </div>
			        </form>
			        
					<form class="navbar-form navbar-nav" role="search">
				        <div class="input-group">
				            <input type="text" class="form-control" placeholder="Project" name="project" id="project">
				            <div class="input-group-btn">
				                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-list-alt"></i></button>
				            </div>
				        </div>
			        </form>

			        <ul class="nav navbar-nav navbar-right">
		        		<li>
							<a href="#" class="btn-default" role="button" data-toggle="modal" data-target="#exporterModal">Import/Export</a>
						</li>
		        		<li>
							<a href="#" class="save-btn btn-default" role="button"><span class="green"><span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"> </span> Save</span></a>
							<!-- glyphicon-floppy-removed red -->
						</li>
		        		<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
								<span class="glyphicon glyphicon-sort-by-alphabet" aria-hidden="true"></span>
								Trier par <span class="caret"></span>
							</a>
							<ul class="dropdown-menu">
								<li id='sort-by-description'><a href="#">Description</a></li>
								<li id='sort-by-status'><a href="#">Statut</a></li>
								<li id='sort-by-info'><a href="#">Champs Info</a></li>
								<li id='sort-by-id'><a href="#">Date de cr&eacute;ation</a></li>
								<li id='sort-by-modified'><a href="#">Date de modification</a></li>
								<!-- <li role="separator" class="divider"></li>
								<li><a href="#">Separated link</a></li> -->
							</ul>
						</li>
					</ul>
					
				</div><!--/.nav-collapse -->
			</div>
		</div> 
			
		<!--
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="#">Keep it simple</a>
					<div class="nav-collapse collapse" style="height: 0px;">
						<ul class="nav">
							<li class="active"><a id="load-mytasks" href="#">Demo</a></li>
						</ul>
						<form id="search-form" class="navbar-search pull-left" onSubmit="return false">
							<input id="search-form-field" type="text" class="search-query span2" placeholder="Search">
						</form>
						<ul class="nav pull-right">
							<li class="divider-vertical"></li>
							<li class="dropdown"><a href="#" class="dropdown-toggle"
								data-toggle="dropdown">Sort by <b class="caret"></b></a>
								<ul id='sort-by' class="dropdown-menu">
									<li id='sort-by-description'><a href="#">Description</a></li>
									<li id='sort-by-status'><a href="#">Status</a></li>
									<li id='sort-by-info'><a href="#">Info field</a></li>
									<li id='sort-by-id'><a href="#">Creation date</a></li>
									<li id='sort-by-modified'><a href="#">Modification date</a></li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		-->	
	
		<div class="container">
			<section>
				<!-- <div class="page-header"><h1>Keep is simple <small>DEMO</small></h1></div> -->
				<div class="row">
					<div id="mytasks" class="tasks col-xs-12 col-md-8 col-lg-9">
						<div class="row addtask">
							<div class="col-xs-12">
								<form class="form-horizontal" onSubmit="return false;">
									<div class="form-group">
										<label for="addtask-input" class="col-xs-1 hidden-xs"><span id="addtask-btn" class="glyphicon glyphicon-plus" aria-hidden="true"></span></label>
										<div class="col-xs-11"><input class="form-control" id="addtask-input" class="" name="addTask" value="" placeholder="Do ... When ... At ..."/></div>
									</div>
								</form>
							</div>
						</div>
						<div id="tasklist" data-mode="server"></div>
						<div class="row" style="text-align: right">
							<br/>
							<div class="col-xs-12">
								<a href="#" class="save-btn btn btn-success" role="button"><span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"> </span> Save</a>
							</div>
						</div>
					</div>
					
					<div id="tips" class="hidden-xs hidden-md col-xs-12 col-md-4 col-lg-3">
						<div class="well">
							<h2>TIPS</h2>
							Shorcuts:
							<ul>
								<li><b>INSERT</b> - to create a new task</li>
								<li><b>TAB (while editing)</b> - to edit nex task</li>
								<li><b>MAJ+TAB (while editing)</b> - to edit previous task</li>
								<li><b>ESC</b> - to cancel task edition</li>
							</ul>
							Click ...
							<ul class="unstyled">
								<li>... on the <b>icone</b> to change task's status</li>
								<li>... on <span class="glyphicon glyphicon-remove"></span> button to delete the task</li>
							</ul>
							Through navigation bar you can ...
							<ul class="unstyled">
								<li>... filter task using search form</li>
								<li>... reload tasks from server by clicking the <b>'Demo'</b> button</li>
								<li>... sort by <b>description</b></li>
								<li>... sort by <b>status</b></li>
								<li>... sort by <b>'info' field</b></li>
								<li>... sort by <b>creation date</b></li>
								<li>... sort by <b>modification date</b></li>
							</ul>
						</div>
					</div>
				</div>

				<!-- Modal: editTask -->
				<div class="modal fade" tabindex="-1" id="editTaskModal" role="dialog">
				  <div class="modal-dialog">
					<div class="modal-content">
					  <div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">
							<span class="glyphicon glyphicon-edit"></span>
							Edit Task <span class='taskTitle'></span>
						</h4>
					  </div>
					  <div class="modal-body" style="padding:40px 50px;">
						<input type="hidden" id="taskId">
						<form role="form" onSubmit="$('body').saveEditedTaskUI(); return false;">
							<div class="form-group">
								<label for="description"><span class="glyphicon glyphicon-tasks"></span> Description</label>
								<input type="text" class="form-control" id="description" placeholder="Task description">
							</div>
							<div class="form-group">
								<label for="info"><span class="glyphicon glyphicon-info-sign"></span> Information</label>
								<!-- Nav tabs -->
								<ul class="nav nav-tabs" role="tablist">
									<li role="presentation" class="active"><a href="#viewInfo" aria-controls="viewInfo" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-info-sign"></span> Information</a></li>
									<li role="presentation"><a href="#editInfo" aria-controls="editInfo" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-edit"></span></a></li>
								</ul>
								<div class="tab-content">
								  <div role="tabpanel" class="tab-pane fade in active" id="viewInfo">
								  <!-- 
									<div class="panel panel-default">
	  									<div class="panel-body" id="viewInfo">
										</div>
									</div>
								   -->
								  </div>
								  <div role="tabpanel" class="tab-pane fade" id="editInfo">
									<textarea class="form-control" id="info" placeholder="Enter information" rows="8"></textarea>
								  </div>
								</div>
							</div>
							<div class="form-group">
								<label for="status"><span class="glyphicon glyphicon-flag"></span> Status</label>
								<select class="form-control" id="status">
									<option value="0" class="text-danger  bold">todo</option>
									<option value="1" class="text-warning bold">inwork</option>
									<option value="2" class="text-success bold">done</option>
									<option value="3" class="text-muted   bold">skipped</option>
									<option value="4" class="text-info    bold">todiscuss</option>
								</select>
							</div>
							<div class="form-group">
								<label for="spentTime"><span class="glyphicon glyphicon-time"></span> Time Spent</label>
								<select class="form-control" id="spentTime">
									<option   value="na"></option>
									<option   value="900000">15 min</option>
									<option  value="1800000">30 min</option>
									<option  value="3600000">1h</option>
									<option  value="7200000">2h</option>
									<option value="14400000">4h</option>
									<option value="28800000">8h</option>
									<option value="clear"><span class="glyphicon glyphicon-remove"></span> clear</option>
									<option value="start"><span class="glyphicon glyphicon-play"></span> start</option>
									<option value="clear and start"><span class="glyphicon glyphicon-pause"></span><span class="glyphicon glyphicon-play"></span> clear and start</option>
									<option value="stop"><span class="glyphicon glyphicon-pause"></span> stop</option>
								</select>
							</div>
						</form>
					  </div>
					  <div class="modal-footer">
						<button type="button" class="btn btn-danger closeBtn" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
						<button type="button" class="btn btn-success saveBtn" data-dismiss="modal"><span class="glyphicon glyphicon-ok"></span> Save</button>
					  </div>
					</div><!-- /.modal-content -->
				  </div><!-- /.modal-dialog -->
				</div><!-- /.modal editTaskModal -->
				
				<!-- Modal: tasks exporter -->
				<div class="modal modal-wide fade" tabindex="-1" id="exporterModal" role="dialog">
				  <div class="modal-dialog">
					<div class="modal-content">
					  <div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Import/Export Task</h4>
					  </div>
					  <div class="modal-body">
						<div class="wide"><textarea></textarea></div>
					  </div>
					  <div class="modal-footer">
						<button type="button" class="btn btn-default closeBtn" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary saveBtn" data-dismiss="modal">Save</button>
					  </div>
					</div><!-- /.modal-content -->
				  </div><!-- /.modal-dialog -->
				</div><!-- /.modal exporterModal -->
			</section>
			<footer class="footer">
		        <p class="pull-right"><a href="#">Back to top</a></p>
		        <p>Designed and built by  <a target="_blank" href="https://github.com/gdromard" class="user-mention">@gdromard</a>.</p>
		        <p>Licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License v2.0</a>.</p>
		    </footer>
		</div><!-- /.container -->
	
		<!-- Le javascript
	    ================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
	
		<script type='text/javascript' src='http://code.jquery.com/jquery-1.11.3.js'></script>
		<script type='text/javascript' src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>
		<script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js'></script>
		<script type='text/javascript' src='http://nparashuram.com/jquery-indexeddb/dist/jquery.indexeddb.js'></script>
		
		<script type='text/javascript' src='js/jqboot-alert.js'></script>
		<script type='text/javascript' src='js/tasks-standalone-controler.js'></script>
		<script type='text/javascript' src='js/markdown.js'></script>
		<!--
		<script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.0.3/js.cookie.min.js'></script>
		<script type='text/javascript' src='http://highlightjs.org/static/highlight.pack.js'></script>
		-->
	
		<script language='javascript'>
			$('a').each(function() { if ($(this).attr('href') == undefined) { $(this).attr('href', (window.location.pathname.replace(/[^/]*$/, '') + '/' + $(this).data('href')).replace(/[\/]+/g, '/')); } })
		</script>
		
		<script type="text/javascript">

			function getProjectUrl(project) {
				var url = document.location.href;
				if (document.location.search.length > 0) url = url.replace(document.location.search, '');
				if (url.indexOf('#') > -1) url = url.substring(0, url.indexOf('#'));
				return url + '?project='+project;
			}
			function gotoProject(project) {
				document.location.href = getProjectUrl(project);
				return false;
			}
		
			$(function() {
				$.keepitsimple.init($('#tasklist'));
				$('a.brand').attr('href', getProjectUrl(''));
				$('#addtask-input').focus();
			});

		
		</script>
	</body>
</html>